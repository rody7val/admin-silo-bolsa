<!-- Plantilla -->
<section id='template-content' class='{{loading ? "load" : ""}}'>

	<!-- Imagen de carga -->
	<section id='img-load-content' class='{{loading ? "view" : ""}}'>
		<img id='img-load' src='img/img-load.gif' alt='img-load.gif'>
	</section>

	<!-- Notificaciones -->
	<div class='notifications container center'>
		<!-- Errors -->
		<div ng-show='feedback_err' class='alert alert-danger'>
			{{feedback_err}}
			<script>(function(e){function animation(element){setTimeout(function(){element.animate({height:'0px'},'slow');e.empty()},5000)}animation(e)})($('.notifications'))</script>
		</div>
		<!-- Success -->
		<div ng-show='feedback_success' class='alert alert-success'>
			{{feedback_success}}
			<script>(function(e){function animation(element){setTimeout(function(){element.animate({height:'0px'},'slow');e.empty()},5000)}animation(e)})($('.notifications'))</script>
		</div>
	</div>

	<div ng-show='!parent.isAuthenticated()'>
		<br>
		<p class='center'>Tu sesión expiró.
			<a href='/login' style='cursor:pointer;'> Inicia Sesión</a>.
		</p>
	</div>
	
	<!-- Dashboard -->
	<div class='row' ng-show='parent.isAuthenticated()'>

		<!-- Columna 1 -->
		<div class='col-lg-4'>

			<!-- Total sectores -->
			<div class='col-lg-12'>
				<div class=' body-form'>
					<h4 class='center date'>SECTORES</h4>
					<h1 class='center'>{{parent.sectorCount}}</h1>
				</div>
			</div>

			<!-- Total placas -->
			<div class='col-lg-12'>
				<div class=' body-form'>
					<h4 class='center date'>ARDUINOS</h4>
					<h1 class='center'>{{parent.boardCount}}</h1>
				</div>
			</div>

			<!-- Total usuarios -->
			<div class='col-lg-12'>
				<div class=' body-form'>
					<h4 class='center date'>USUARIOS</h4>
					<h1 class='center'>{{parent.usersCount}}</h1>
				</div>
			</div>

		</div>

		<!-- Columna 2 -->
		<div class='col-lg-8'>

			<div class='body-form'>
				<h4 class='center date'>GRÁFICOS</h4>
				<div class='card-content' ng-show='parent.sectors.length == 0'>
					<div class='alert alert-info'>
						<small>No hay sectores para graficarlos. <a href="/sectors">Crea uno</a></small>
					</div>
					<div class='alert alert-warning'>
						<small>Ya los creaste y no se muestran? <a href="#" ng-click='reload()'>Recarga el sitio</a></small></div>
				</div>
				<!-- Listado de sectores -->
				<div class='card-content' ng-show='parent.sectors.length > 0'>
				  <div class="card" ng-repeat='sector in parent.sectors'>
				    <div
				    	class="card-header {{sector.done ? 'active' : ''}}"
				    	ng-click='newChart(sector)'
				    	style='cursor: pointer;'>
				      <h5 class="mb-0">{{sector.name}}</h5>
				    </div>

				    <div ng-if='sector.done' class="card-block">
				    	<nvd3 options="options" data="sector.chart"></nvd3>
				      <div class='alert alert-warning'>
				      	<small>Algo anda mal? <a href="#" ng-click='reload()'>Recarga el sitio</a>
				      </small></div>
				    </div>
				  </div>
				</div>

			</div>

		</div>

	</div>

</section>